<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>对象的序列化</title>
    <script>
        /*
            对象的序列化
                将对象转换为一个可以存储的格式，通常是转换为字符串（json字符串）
                用途：
                    1.对象转换为字符串，可以将其在不同语言之间传递，可以直接对其进行读写操作
                用法：
                    json  js对象表示法

                注意事项：
                    1.JSON字符串有两种类型
                        JSON对象 {}
                        JSON数组 []
                    2.JSON字符的属性名必须用双引号
                    3.JSON中可以使用的属性值（元素）
                        数字(Number)
                        字符串(String)
                        布尔值(Boolean)
                        空值(Null)
                        对象(Object {})
                        数组(Array [])
                
                利用JSON也可以进行深复制
        */
       const obj = {
            name:'郭昌',
            age:'23'
       }

       //将obj转换为json字符串
       const str = JSON.stringify(obj);  //JSON.stringify()将js对象转换成JSON字符串
       const obj1 = JSON.parse(str);  //JSON.parse()将JSON格式的字符串转换成js对象

       console.log(obj);
       console.log(str);
       console.log(obj1);
       console.log(obj === obj1);  //false

       const str2 = '{"name":"郭昌","age":18}'

       console.log(str2);
       console.log(typeof str2)
       const obj2 = JSON.parse(str2);

    //    利用JSON也可以进行深复制
       const obj3  = {
            name:'郭昌',
            friend:{
                name:'李一帆',
            },
       }
       //以前的方法进行浅复制
       const obj4 = Object.assign({},obj3)

       //以前的方法进行深复制
       const obj5 = structuredClone(obj3)

       //利用JSON方法进行深复制
       const str3 = JSON.stringify(obj3);
       const obj6 = JSON.parse(str3);

       console.log(obj6 === obj3);  //false
       console.log(obj6.friend === obj3.friend)  //false

    </script>
</head>
<body>
    
</body>
</html>